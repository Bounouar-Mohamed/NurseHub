@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light Mode Colors */
    --background: 0 0% 95%; /* #ffffff */
    --foreground: 222.2 84% 4.9%; /* #0c0d21 */

    --muted: 210 40% 96.1%; /* #f1f5f9 */
    --muted-foreground: 215.4 16.3% 46.9%; /* #64748b */
    --muted-foreground-light: 215.4 16.3% 46.9% / 0.5;
    --muted-foreground-dark: 215.4 16.3% 46.9% / 0.6;

    --card: 0 0% 100%; /* #ffffff */
    --card-foreground: 222.2 84% 4.9%; /* #0c0d21 */

    --popover: 0 0% 100%; /* #ffffff */
    --popover-foreground: 222.2 84% 4.9%; /* #0c0d21 */

    /* Primary Accent Colors - Keeping the vibrant teal */
    --primary: 165 96% 71%; /* #78fcd6 */
    --primary-foreground: 160 8% 6%; /* #0d0f0e */
    --primary-dark: 160 100% 50%; /* #00ffb6 */
    --primary-light: 160 48% 87%; /* #d1f8eb */

    /* Secondary Accent Colors (for buttons, etc.) */
    --secondary: 222.2 47.4% 11.2%; /* #111827 */
    --secondary-foreground: 210 40% 98%; /* #f8fafc */

    --accent: 210 40% 96.1%; /* #f1f5f9 */
    --accent-foreground: 222.2 47.4% 11.2%; /* #111827 */

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%; /* #e2e8f0 */
    --border-light: 214.3 31.8% 91.4% / 0.1;
    --border-dark: 214.3 31.8% 91.4% / 0.05;

    --input: 214.3 31.8% 91.4%; /* #e2e8f0 */
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    @apply scroll-smooth;
    scroll-behavior: smooth;
    /* Optimisation des performances de défilement */
    -webkit-overflow-scrolling: touch;
    /* Optimisation GPU pour le scroll */
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
  body {
    @apply bg-background text-foreground;
    /* Optimisations de rendu ultra-performantes */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    /* Optimisation GPU ciblée */
    will-change: auto;
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
  }
}

/* Smooth scroll globally */
html {
  scroll-behavior: smooth;
  /* scroll-snap-type retiré : géré au niveau du conteneur principal */
}

/* Hide scrollbar (Chrome, Safari, Opera) */
::-webkit-scrollbar {
  width: 0px;
  height: 0px;
  background: transparent; /* optional: just to avoid any flash */
}

/* Hide scrollbar (Firefox) */
body {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE 10+ */
}

body::-webkit-scrollbar {
  display: none; /* Safari and Chrome */
}

/* Scroll Animations Ultra-Performantes */
.fade-in-section {
  opacity: 0;
  transform: translate3d(0, 20px, 0);
  transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1), transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: opacity, transform;
  backface-visibility: hidden;
}
.fade-in-section.is-visible {
  opacity: 1;
  transform: translate3d(0, 0, 0);
}
/* Stagger helpers optimisés */
.stagger-1 { transition-delay: 0.03s; }
.stagger-2 { transition-delay: 0.06s; }
.stagger-3 { transition-delay: 0.09s; }

/* Optimisations GPU pour les éléments animés */
.gpu-accelerated {
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  will-change: transform;
}

/* Optimisation des transitions globales */
* {
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ✅ Persistance des assets - Évite le déchargement */
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
  /* Force la persistance en mémoire */
  will-change: auto;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
}

/* ✅ Optimisation spécifique Next.js Image */
.next-image-wrapper {
  position: relative;
  overflow: hidden;
}

/* ✅ Cache des images pour éviter le rechargement */
img[src*="/images/"] {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  /* Force le cache navigateur */
  /* ❌ SUPPRIMÉ : content-visibility et contain qui causent le re-décodage */
  /* content-visibility: auto; */
  /* contain: layout style paint; */
}

/* ✅ Optimisations spécifiques pour les cartes Bento - Version Safe */
.bento-card-stable {
  /* Force la persistance des éléments */
  will-change: auto;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  /* ❌ SUPPRIMÉ : contain qui cause le re-décodage */
  /* contain: layout style paint; */
  /* Optimisation GPU pour les icônes */
  /* isolation: isolate; */
}

/* ✅ Stabilisation des icônes Lucide - Version Safe */
.bento-card-stable svg {
  /* Force la persistance des SVG */
  will-change: auto;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  /* ❌ SUPPRIMÉ : content-visibility qui cause le re-décodage */
  /* content-visibility: auto; */
}

/* ✅ Force la persistance des images Next.js - Version Safe */
.next-image-wrapper img {
  /* Empêche le déchargement des images */
  will-change: auto !important;
  transform: translate3d(0, 0, 0) !important;
  backface-visibility: hidden !important;
  /* ❌ SUPPRIMÉ : content-visibility et contain qui causent le re-décodage */
  /* content-visibility: auto !important; */
  /* contain: layout style paint !important; */
}

/* ✅ Optimisation spécifique pour les images dans les cartes Bento - Version Safe */
.bento-card-stable img {
  /* Force la persistance absolue */
  will-change: auto !important;
  transform: translate3d(0, 0, 0) !important;
  backface-visibility: hidden !important;
  /* ❌ SUPPRIMÉ : content-visibility et contain qui causent le re-décodage */
  /* content-visibility: auto !important; */
  /* contain: layout style paint !important; */
  /* Force le rendu GPU */
  /* isolation: isolate !important; */
}
